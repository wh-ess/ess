<style>
    #center {
        width: 100%;
        height: 427px;
        border: 1px solid #ffffff;
        /*background-image: url("http://localhost:2191/Areas/POP/POPImages/PopTemplates/常规减现模板.png");*/
        background-repeat: no-repeat;
        background-position: center;
        background-size: 100% 100%;
    }

    .div_1 {
        width: 100%;
        height: 80px;
        margin-top: 100px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
        /*background-color:#ffffff;*/
    }

    .div_2 {
        width: 100%;
        height: 30px;
        margin-top: 3px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
    }

    .div_3 {
        width: 100%;
        height: 100px;
        float: left;
        margin-top: 3px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
    }

    .div_3_1 {
        width: 220px;
        height: 90px;
        float: left;
        margin-top: 5px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
    }

    .div_3_2 {
        width: 80px;
        height: 30px;
        float: left;
        margin-top: 65px;
        margin-left: 5px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
    }

    .div_4 {
        width: 100%;
        height: 50px;
        margin-top: 100px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
    }

    .div_5 {
        width: 100%;
        height: 50px;
        margin-top: 5px;
        filter: alpha(Opacity=99);
        -moz-opacity: 0.95;
        opacity: 0.95;
        z-index: 100;
    }

    #txt_spnm {
        width: 100%;
        height: 100%;
        text-align: center;
        font-size: 48px;
        font-family: 'Microsoft YaHei';
        border-style: none;
        color: black;
        /*border: 1px solid blue;*/
    }

    #txt_model1 {
        width: 100%;
        height: 100%;
        text-align: center;
        font-size: 24px;
        font-family: 'Microsoft YaHei';
        border-style: none;
        color: black;
    }

    #txt_number1 {
        width: 100%;
        height: 100%;
        text-align: right;
        font-size: 48px;
        font-family: 'Microsoft YaHei';
        border-style: none;
        color: red;
    }

    #txt_message1 {
        width: 100%;
        height: 100%;
        text-align: left;
        font-family: 'Microsoft YaHei';
        font-size: 12px;
        border-style: none;
        color: black;
    }

    #txt_message2 {
        width: 100%;
        height: 100%;
        text-align: center;
        font-size: 24px;
        font-family: 'Microsoft YaHei';
        border-style: none;
        color: black;
    }

    #txt_message3 {
        width: 100%;
        height: 100%;
        text-align: center;
        font-size: 24px;
        font-family: 'Microsoft YaHei';
        border-style: none;
        color: red;
    }
</style>

<script type="text/javascript">

    function doGenPOP() {
        //赋值
        var spnm = $("#txt_spnm").val();
        var model1 = $("#txt_model1").val();
        var number1 = $("#txt_number1").val();
        var message1 = $("#txt_message1").val();
        var message2 = $("#txt_message2").val();
        var message3 = $("#txt_message3").val();
        //var emptyTemplate = $("#imgEmptyTemplate").attr("src");

        var templateheadguid = $('#selectImage').val();
        var emptytemplateguid = $('#select1').val();

        $.ajax({
            type: 'post', cache: false, dataType: 'json',
            url: '/POP/POPManage/GenPOP',

            //构造传入2个参数不可以变化1POP模板类型，2空白输出模板样式
            data: [
                { name: 'templateHeadGuid', value: templateheadguid },
                { name: 'emptyTemplateGuid', value: emptytemplateguid },
                { name: 'spnm', value: spnm },
                { name: 'model1', value: model1 },
                { name: 'number1', value: number1 },
                { name: 'message1', value: message1 },
                { name: 'message2', value: message2 },
                { name: 'message3', value: message3 },
            ],

            success: function (result) {
                //alert(result);
                if (result = 't') {
                    alert('POP图生成成功，请检查后下载');
                    var out_pop = "/Areas/POP/POPImages/OutPOPImages/POP_" + spnm + ".jpg";
                    $('#Gened_POP').css("backgroundImage", "url(" + out_pop + ")");
                }
                else {
                    alert('后台调用方法成功，但返回值错误');
                }
            },

            statusCode: {
                404: function () { alert('cannot  find resource'); },
                505: function () { alert('internal server error'); }
            },

            error: function () {
                alert('返回信息错误，请联系系统管理员！');
            }
        });
    }

</script>

<div id="center">
    <div class="div_1">
        <input id="txt_spnm" type="text" value="1_品牌" class="txt" />
    </div>
    <div class="div_2">
        <input id="txt_model1" type="text" value="2_款式" class="txt" />
    </div>
    <div class="div_3">
        <div class="div_3_1">
            <input id="txt_number1" type="text" value="3_金额" class="txt" />
        </div>
        <div class="div_3_2">
            <input id="txt_message1" type="text" value="4_元起" class="txt" />
        </div>
    </div>
    <div class="div_4">
        <input id="txt_message2" type="text" value="5_加赠" />
    </div>
    <div class="div_5">
        <input id="txt_message3" type="text" value="6_加赠第二行" />
    </div>
</div>

