/*!
 * jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){function o(n){return typeof n=="string"}function e(n){var t=b.call(arguments,1);return function(){return n.apply(this,t.concat(b.call(arguments)))}}function ct(n){return n.replace(c,"$2")}function lt(n){return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function et(i,u,e,s,a){var p,v,y,b,d;return s!==n?(y=e.match(i?c:/^([^#?]*)\??([^#]*)(#?.*)/),d=y[3]||"",a===2&&o(s)?v=s.replace(i?h:rt,""):(b=t(y[2]),s=o(s)?t[i?r:f](s):s,v=a===2?s:a===1?$.extend({},s,b):$.extend({},b,s),v=k(v),i&&(v=v.replace(ut,l))),p=y[1]+(i?w:v||!y[1]?"?":"")+v+d):p=u(e!==n?e:location.href),p}function ot(i,e,s){return e===n||typeof e=="boolean"?(s=e,e=u[i?r:f]()):e=o(e)?e.replace(i?h:rt,""):e,t(e,s)}function st(t,i,r,f){return o(r)||typeof r=="object"||(f=r,r=i,i=n),this.each(function(){var e=$(this),n=i||nt()[(this.nodeName||"").toLowerCase()]||"",o=n&&e.attr(n)||"";e.attr(n,u[t](o,r,f))})}var n,b=Array.prototype.slice,l=decodeURIComponent,u=$.param,k,i,t,a,v=$.bbq=$.bbq||{},d,g,nt,tt=$.event.special,it="hashchange",f="querystring",r="fragment",y="elemUrlAttr",p="href",s="src",rt=/^.*\?|#.*$/g,h,c,ut,ft,w,ht={};u[f]=e(et,0,lt);u[r]=i=e(et,1,ct);u.sorted=k=function(n,t){var r=[],i={};return $.each(u(n,t).split("&"),function(n,t){var u=t.replace(/(?:%5B|=).*$/,""),f=i[u];f||(f=i[u]=[],r.push(u));f.push(t)}),$.map(r.sort(),function(n){return i[n]}).join("&")};i.noEscape=function(n){n=n||"";var t=$.map(n.split(""),encodeURIComponent);ut=new RegExp(t.join("|"),"g")};i.noEscape(",/");i.ajaxCrawlable=function(t){return t!==n&&(t?(h=/^.*(?:#!|#)/,c=/^([^#]*)(?:#!|#)?(.*)$/,w="#!"):(h=/^.*#/,c=/^([^#]*)#?(.*)$/,w="#"),ft=!!t),ft};i.ajaxCrawlable(0);$.deparam=t=function(t,i){var r={},u={"true":!0,"false":!1,"null":null};return $.each(t.replace(/\+/g," ").split("&"),function(t,f){var v=f.split("="),s=l(v[0]),e,a=r,c=0,o=s.split("]["),h=o.length-1;if(/\[/.test(o[0])&&/\]$/.test(o[h])?(o[h]=o[h].replace(/\]$/,""),o=o.shift().split("[").concat(o),h=o.length-1):h=0,v.length===2)if(e=l(v[1]),i&&(e=e&&!isNaN(e)?+e:e==="undefined"?n:u[e]!==n?u[e]:e),h)for(;c<=h;c++)s=o[c]===""?a.length:o[c],a=a[s]=c<h?a[s]||(o[c+1]&&isNaN(o[c+1])?{}:[]):e;else $.isArray(r[s])?r[s].push(e):r[s]=r[s]!==n?[r[s],e]:e;else s&&(r[s]=i?n:"")}),r};t[f]=e(ot,0);t[r]=a=e(ot,1);$[y]||($[y]=function(n){return $.extend(ht,n)})({a:p,base:p,iframe:s,img:s,input:s,form:"action",link:p,script:s});nt=$[y];$.fn[f]=e(st,f);$.fn[r]=e(st,r);v.pushState=d=function(t,r){o(t)&&/^#/.test(t)&&r===n&&(r=2);var u=t!==n,f=i(location.href,u?t:{},u?r:2);location.href=f};v.getState=g=function(t,i){return t===n||typeof t=="boolean"?a(t):a(i)[t]};v.removeState=function(t){var i={};t!==n&&(i=g(),$.each($.isArray(t)?t:arguments,function(n,t){delete i[t]}));d(i,2)};tt[it]=$.extend(tt[it],{add:function(u){function e(u){var e=u[r]=i();u.getState=function(i,r){return i===n||typeof i=="boolean"?t(e,i):t(e,r)[i]};f.apply(this,arguments)}var f;if($.isFunction(u))return f=u,e;f=u.handler;u.handler=e}})})(jQuery,this);
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,n,t){function r(n){return n=n||location.href,"#"+n.replace(/^[^#]*#?(.*)$/,"$1")}var i="hashchange",u=document,f,o=$.event.special,s=u.documentMode,e="on"+i in n&&(s===t||s>7);$.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};$.fn[i].delay=50;o[i]=$.extend(o[i],{setup:function(){if(e)return!1;$(f.start)},teardown:function(){if(e)return!1;$(f.stop)}});f=function(){function l(){var u=r(),t=a(s);u!==s?(c(s=u,t),$(n).trigger(i)):t!==s&&(location.href=location.href.replace(/#.*/,"")+t);o=setTimeout(l,$.fn[i].delay)}var f={},o,s=r(),h=function(n){return n},c=h,a=h;return f.start=function(){o||l()},f.stop=function(){o&&clearTimeout(o);o=t},$.support.isIE&&!e&&function(){var n,t;f.start=function(){n||(t=$.fn[i].src,t=t&&t+r(),n=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){t||c(r());l()}).attr("src",t||"javascript:0").insertAfter("body")[0].contentWindow,u.onpropertychange=function(){try{event.propertyName==="title"&&(n.document.title=u.title)}catch(t){}})};f.stop=h;a=function(){return r(n.location.href)};c=function(t,r){var f=n.document,e=$.fn[i].domain;t!==r&&(f.title=u.title,f.open(),e&&f.write('<script>document.domain="'+e+'"<\/script>'),f.close(),n.location.hash=t)}}(),f}()})(jQuery,this);
//# sourceMappingURL=jquery.bbq.min.js.map
